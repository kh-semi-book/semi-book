<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="meetingRoomMapper">

	<resultMap type="MeetingRoom" id="meetingRoom_rm">
	
		<id property="meetingRoomBookNo" column="MEETING_BOOK_NO"/>
		<result property="meetingRoomDate" column="MEETING_DATE"/>
		<result property="meetingRoomName" column="MEETING_ROOM_NAME"/>
		<result property="meetingHeadCount" column="MEETING_HEADCOUNT"/>
		<result property="meetingRoomMenName" column="MEETING_MEM_NAME"/>
		<result property="meetingRoomProcess" column="MEETING_PROCESS"/>
		<result property="meetingRoomCancelFL" column="MEETING_CANCEL_FL"/>
		<result property="roomNo" column="MEETING_ROOM_NO"/>
		
	</resultMap>

		<select id="getBookCount" resultType="_int">
  		SELECT COUNT(*) FROM MEETING_BOOK 
  	</select>
  	
  	<select id="selectBookList" resultMap="meetingRoom_rm">
  		SELECT MEETING_BOOK_NO, 
	   				 TO_CHAR(MEETING_DATE,'YYYY-MM-DD') MEETING_DATE, MEETING_ROOM_NAME, 
	           MEETING_HEADCOUNT, MEETING_MEM_NAME, MEETING_CANCEL_FL, MEETING_PROCESS 
			FROM MEETING_BOOK B
			JOIN MEETING_ROOM R ON (B.MEETING_ROOM_NO = R.MEETING_ROOM_NO)
  	</select>
  	

<!--  <select id="selectMeetingRoom" resultMap="meetingRoom_rm" resultType="MeetingRoom"> 
 	SELECT MEETING_BOOK_NO, 
	   TO_CHAR(MEETING_DATE, 'YYYY"년" MM"월" DD"일" HH24"시" MI"분" SS"초"') MEETING_DATE,
	   MEETING_ROOM_NAME, 
	   MEETING_HEADCOUNT, MEETING_MEM_NAME, MEETING_CANCEL_FL, MEETING_PROCESS 
	FROM MEETING_BOOK B
	JOIN MEETING_ROOM R ON (B.MEETING_ROOM_NO = R.MEETING_ROOM_NO)
 </select> -->
</mapper>
